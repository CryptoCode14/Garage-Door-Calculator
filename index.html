<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Commercial Quote Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .icon-placeholder { width: 20px; height: 20px; display: inline-block; margin-right: 8px; vertical-align: middle; } /* Simple placeholder */
        .form-section { border: 1px solid #E5E7EB; border-radius: 0.5rem; padding: 1.5rem; margin-bottom: 1.5rem; background-color: white;}
        .form-section-title { font-size: 1.125rem; font-weight: 600; color: #1F2937; margin-bottom: 1rem; display: flex; align-items: center; }
        .preview-section { margin-bottom: 1.5rem; }
        .preview-section h4 { font-weight: 600; color: #374151; margin-bottom: 0.5rem; font-size: 0.875rem; text-transform: uppercase; letter-spacing: 0.05em;}
        .preview-item { display: flex; justify-content: space-between; font-size: 0.875rem; color: #4B5563; padding: 0.3rem 0; }
        .preview-item.total { font-weight: 600; color: #1F2937; font-size: 1rem; border-top: 1px solid #E5E7EB; padding-top: 0.5rem; margin-top:0.5rem;}
        .preview-item .value { font-weight: 500; color: #1F2937; }
        .input-field { appearance: none; border: 1px solid #D1D5DB; border-radius: 0.375rem; padding: 0.5rem 0.75rem; font-size: 0.875rem; width: 100%; transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out; }
        .input-field:focus { border-color: #2563EB; box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.25); outline: none; }
        .input-label { display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 0.25rem; }
        .btn { padding: 0.625rem 1.25rem; border-radius: 0.375rem; font-weight: 500; font-size: 0.875rem; transition: background-color 0.2s ease-in-out; display: inline-flex; align-items: center; justify-content: center; }
        .btn-primary { background-color: #2563EB; color: white; }
        .btn-primary:hover { background-color: #1D4ED8; }
        .btn-secondary { background-color: #E5E7EB; color: #374151; border: 1px solid #D1D5DB;}
        .btn-secondary:hover { background-color: #D1D5DB; }
        .output-display { font-size: 0.875rem; font-weight: 500; color: #1F2937; background-color: #F3F4F6; padding: 0.5rem 0.75rem; border-radius: 0.375rem; text-align: right; }
        /* Lucide Icons via SVG */
        .lucide { width: 1em; height: 1em; vertical-align: -0.125em; display: inline-block; }
    </style>
</head>
<body class="bg-gray-100">

    <!-- Header -->
    <header class="bg-white shadow-sm">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl">
            <div class="flex justify-between items-center py-4">
                <h1 class="text-xl font-semibold text-gray-800">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calculator inline-block mr-2"><rect width="16" height="20" x="4" y="2" rx="2"/><line x1="8" x2="16" y1="6" y2="6"/><line x1="16" x2="16" y1="14" y2="18"/><path d="M16 10h.01"/><path d="M12 10h.01"/><path d="M8 10h.01"/><path d="M12 14h.01"/><path d="M8 14h.01"/><path d="M12 18h.01"/><path d="M8 18h.01"/></svg>
                    Commercial Quote Calculator
                </h1>
                <button id="newQuoteBtn" class="btn btn-primary">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plus mr-2"><path d="M5 12h14"/><path d="M12 5v14"/></svg>
                    New Quote
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 max-w-7xl">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Left Column: Quote Calculator -->
            <div class="lg:col-span-2 space-y-6">
                <p class="text-sm text-gray-600">Enter project details to generate a professional quote.</p>

                <form id="quoteForm">
                    <!-- Client Information -->
                    <section class="form-section">
                        <h3 class="form-section-title">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-round mr-2"><circle cx="12" cy="8" r="5"/><path d="M20 21a8 8 0 0 0-16 0"/></svg>
                            Client Information
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="clientName" class="input-label">Client Name</label>
                                <input type="text" id="clientName" name="clientName" class="input-field" placeholder="Enter client name">
                            </div>
                            <div>
                                <label for="projectName" class="input-label">Project Name</label>
                                <input type="text" id="projectName" name="projectName" class="input-field" placeholder="Enter project name">
                            </div>
                        </div>
                    </section>

                    <!-- Materials & Services -->
                    <section class="form-section">
                        <h3 class="form-section-title">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-box mr-2"><path d="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"/><path d="m3.3 7 8.7 5 8.7-5"/><path d="M12 22V12"/></svg>
                            Materials & Services
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="materialCost" class="input-label">Material Costs ($)</label>
                                <input type="number" id="materialCost" name="materialCost" class="input-field" placeholder="0.00" step="0.01">
                            </div>
                            <div>
                                <label for="serviceCost" class="input-label">Service Costs ($)</label>
                                <input type="number" id="serviceCost" name="serviceCost" class="input-field" placeholder="0.00" step="0.01">
                            </div>
                        </div>
                    </section>

                    <!-- Labor -->
                    <section class="form-section">
                        <h3 class="form-section-title">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-person-standing mr-2"><circle cx="12" cy="5" r="1"/><path d="m9 20 3-6 3 6"/><path d="m6 8 6 2 6-2"/><path d="M12 10v4"/></svg>
                            Labor
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 items-end">
                            <div>
                                <label for="laborHours" class="input-label">Labor Hours</label>
                                <input type="number" id="laborHours" name="laborHours" class="input-field" placeholder="0" step="0.1">
                            </div>
                            <div>
                                <label for="laborRate" class="input-label">Labor Rate (per hour) ($)</label>
                                <input type="number" id="laborRate" name="laborRate" class="input-field" placeholder="0.00" step="0.01">
                            </div>
                            <div>
                                <label class="input-label">Total Labor Cost ($)</label>
                                <div id="totalLaborCostDisplay" class="output-display">0.00</div>
                            </div>
                        </div>
                    </section>

                    <!-- Business Calculations -->
                    <section class="form-section">
                        <h3 class="form-section-title">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-briefcase mr-2"><rect width="20" height="14" x="2" y="7" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></svg>
                            Business Calculations
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-4 items-end">
                            <div>
                                <label for="dayPercentage" class="input-label">Day Percentage (%)</label>
                                <input type="number" id="dayPercentage" name="dayPercentage" class="input-field" placeholder="0" step="0.01">
                                <p class="text-xs text-gray-500 mt-1">Percentage of day (calculates against $2,000 base operating expenses for profit breakdown)</p>
                            </div>
                            <div>
                                <label for="installationCost" class="input-label">Installation Cost ($)</label>
                                <input type="number" id="installationCost" name="installationCost" class="input-field" placeholder="0.00" step="0.01">
                            </div>
                            <div>
                                <label for="quoteOperatingExpenses" class="input-label">Additional Operating Expenses for this Quote ($)</label>
                                <input type="number" id="quoteOperatingExpenses" name="quoteOperatingExpenses" class="input-field" placeholder="0.00" step="0.01">
                            </div>
                             <div>
                                <label class="input-label">Double Material Costs ($)</label>
                                <div id="doubleMaterialCostDisplay" class="output-display">0.00</div>
                            </div>
                        </div>
                    </section>

                    <!-- Tax Configuration -->
                    <section class="form-section">
                        <h3 class="form-section-title">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-landmark mr-2"><line x1="3" x2="21" y1="22" y2="22"/><line x1="6" x2="6" y1="18" y2="11"/><line x1="10" x2="10" y1="18" y2="11"/><line x1="14" x2="14" y1="18" y2="11"/><line x1="18" x2="18" y1="18" y2="11"/><polygon points="12 2 20 7 4 7"/></svg>
                            Tax Configuration
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 items-center">
                            <div>
                                <label for="taxRate" class="input-label">Tax Rate (%)</label>
                                <input type="number" id="taxRate" name="taxRate" class="input-field" placeholder="8.25" step="0.01">
                            </div>
                            <div class="mt-4 md:mt-6">
                                <label class="flex items-center">
                                    <input type="checkbox" id="applyTax" name="applyTax" class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500" checked>
                                    <span class="ml-2 text-sm text-gray-700">Apply tax to this quote</span>
                                </label>
                            </div>
                        </div>
                    </section>

                    <!-- Action Buttons -->
                    <div class="flex flex-col sm:flex-row gap-3 mt-8">
                        <button type="button" id="calculateQuoteBtn" class="btn btn-primary w-full sm:w-auto">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-right-circle mr-2"><circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="m12 16 4-4-4-4"/></svg>
                            Calculate Quote
                        </button>
                        <button type="button" id="saveQuoteBtn" class="btn btn-secondary w-full sm:w-auto">
                             <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-save mr-2"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>
                            Save Quote (Placeholder)
                        </button>
                        <button type="reset" id="resetBtn" class="btn btn-secondary w-full sm:w-auto">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw mr-2"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></svg>
                            Reset
                        </button>
                    </div>
                </form>
            </div>

            <!-- Right Column: Quote Preview -->
            <div class="lg:col-span-1">
                <div class="sticky top-8 bg-white p-6 rounded-lg shadow-lg">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-lg font-semibold text-gray-800">Quote Preview</h2>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-printer text-gray-400"><polyline points="6 9 6 2 18 2 18 9"/><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/><rect width="12" height="8" x="6" y="14"/></svg>
                    </div>

                    <div class="preview-section">
                        <div class="preview-item"><span class="text-gray-500">Quote #:</span> <span id="preview_quoteId" class="value">QT-GEM-001</span></div>
                        <div class="preview-item"><span class="text-gray-500">Date:</span> <span id="preview_date" class="value"></span></div>
                        <hr class="my-2">
                        <div class="preview-item"><span class="text-gray-500">Client:</span> <span id="preview_clientName" class="value">N/A</span></div>
                        <div class="preview-item"><span class="text-gray-500">Project:</span> <span id="preview_projectName" class="value">N/A</span></div>
                    </div>

                    <div class="preview-section">
                        <div class="preview-item"><span>Material (cost)</span> <span id="preview_materialCost" class="value">$0.00</span></div>
                        <div class="preview-item"><span>+ Material Markup (50%)</span> <span id="preview_materialMarkupValue" class="value">$0.00</span></div>
                        <div class="preview-item font-medium"><span>Materials (marked up)</span> <span id="preview_materialCostMarkedUp" class="value">$0.00</span></div>
                        <div class="preview-item"><span>Services</span> <span id="preview_serviceCost" class="value">$0.00</span></div>
                        <div class="preview-item"><span>Labor (<span id="preview_laborHours">0</span> hrs @ $<span id="preview_laborRate">0.00</span>/hr)</span> <span id="preview_totalLabor" class="value">$0.00</span></div>
                        <div class="preview-item"><span>Installation</span> <span id="preview_installationCost" class="value">$0.00</span></div>
                        <div class="preview-item font-semibold border-t mt-1 pt-1"><span>Subtotal</span> <span id="preview_subtotal" class="value">$0.00</span></div>
                        <div class="preview-item"><span>Tax (<span id="preview_taxRate">0.00</span>%)</span> <span id="preview_taxAmount" class="value">$0.00</span></div>
                        <div class="preview-item total"><span>Total</span> <span id="preview_grandTotal" class="value">$0.00</span></div>
                    </div>

                    <div class="preview-section">
                        <h4 class="border-t pt-3">Business Analysis</h4>
                        <div class="preview-item"><span>Day Percentage</span> <span id="preview_dayPercentage" class="value">0.0%</span></div>
                        <div class="preview-item"><span>Operating Expenses (Quote Specific)</span> <span id="preview_quoteOperatingExpenses" class="value">$0.00</span></div>
                        <div class="preview-item"><span>Double Material Cost</span> <span id="preview_doubleMaterialCost" class="value">$0.00</span></div>
                        <div class="preview-item"><span>Markup Target</span> <span id="preview_markupTarget" class="value">$0.00 - $0.00</span></div>
                        <div class="preview-item"><span>Profit Percentage</span> <span id="preview_profitPercentage" class="value">0.0%</span></div>
                    </div>

                    <div class="preview-section">
                        <h4 class="border-t pt-3">Profit Breakdown</h4>
                        <div class="preview-item"><span>Total Revenue (after tax)</span> <span id="preview_profit_totalRevenue" class="value">$0.00</span></div>
                        <div class="preview-item"><span>- Operating Expenses (Day % of Base)</span> <span id="preview_profit_operatingExpenses" class="value">$0.00</span></div>
                        <div class="preview-item"><span>- Material Costs (actual)</span> <span id="preview_profit_materialCosts" class="value">$0.00</span></div>
                        <div class="preview-item"><span>- Labor Costs</span> <span id="preview_profit_laborCosts" class="value">$0.00</span></div>
                        <div class="preview-item"><span>- Service Costs</span> <span id="preview_profit_serviceCosts" class="value">$0.00</span></div>
                        <div class="preview-item"><span>- Installation Costs</span> <span id="preview_profit_installationCosts" class="value">$0.00</span></div>
                         <div class="preview-item"><span>- Quote Specific OpEx</span> <span id="preview_profit_quoteSpecificOpEx" class="value">$0.00</span></div>
                        <div class="preview-item total"><span>Net Profit</span> <span id="preview_netProfit" class="value">$0.00</span></div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    </body>
</html>
