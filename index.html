<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Garage Door Price Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        .tab-button { transition: all 0.3s ease; }
        .tab-button.active { border-color: #3B82F6; background-color: #3B82F6; color: white; }
        .tab-button:not(.active):hover { background-color: #E5E7EB; }
        .input-field { border-color: #D1D5DB; }
        .input-field:focus { border-color: #3B82F6; box-shadow: 0 0 0 2px #BFDBFE; outline: none;}
        .output-field { background-color: #F3F4F6; font-weight: bold; }
        .section-title { border-bottom: 2px solid #3B82F6; padding-bottom: 0.5rem; margin-bottom: 1rem; color: #1E40AF; font-size: 1.25rem;}
        .grid-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; }
        .form-group { display: flex; flex-direction: column; margin-bottom: 0.75rem; }
        .form-group label { margin-bottom: 0.25rem; color: #374151; font-size: 0.875rem; }
        .form-group input, .form-group select { padding: 0.5rem; border-radius: 0.375rem; border: 1px solid #D1D5DB; width: 100%; }
        .form-group .output-value { padding: 0.5rem; border-radius: 0.375rem; background-color: #E5E7EB; color: #1F2937; font-weight: 500; min-height: 38px; display: flex; align-items: center;}
        .summary-section { background-color: #EFF6FF; padding: 1rem; border-radius: 0.5rem; margin-top: 1.5rem; }
        .summary-section .form-group label { font-weight: 600; }
        .summary-section .output-value.grand-total { font-size: 1.25rem; color: #1E40AF; }
    </style>
</head>
<body class="bg-gray-100 p-4 md:p-8">

    <div class="container mx-auto max-w-5xl bg-white shadow-xl rounded-lg p-6 md:p-8">
        <header class="mb-6 text-center">
            <h1 class="text-3xl font-bold text-gray-800">Garage Door Price Calculator</h1>
        </header>

        <!-- Tabs Navigation -->
        <div class="mb-6 flex justify-center border-b border-gray-300">
            <button id="tab-commercial" class="tab-button active text-sm md:text-base font-medium py-3 px-6 border-b-2 border-transparent text-blue-600 hover:text-blue-800 focus:outline-none">Commercial</button>
            <button id="tab-residential" class="tab-button text-sm md:text-base font-medium py-3 px-6 border-b-2 border-transparent text-gray-500 hover:text-gray-700 focus:outline-none">Residential</button>
            <button id="tab-service" class="tab-button text-sm md:text-base font-medium py-3 px-6 border-b-2 border-transparent text-gray-500 hover:text-gray-700 focus:outline-none">Service Call</button>
        </div>

        <!-- Tab Content -->
        <div id="content-commercial" class="tab-content">
            <h2 class="section-title">Commercial Door Calculator</h2>
            <div class="grid-container">
                <!-- Door Components -->
                <div class="p-4 bg-blue-50 rounded-lg shadow">
                    <h3 class="text-lg font-semibold mb-3 text-blue-700">Door Components Costs</h3>
                    <div class="form-group">
                        <label for="com_c11">Sections Cost:</label>
                        <input type="number" id="com_c11" class="input-field" placeholder="0.00" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="com_c12">Windows / Lite Kit Cost:</label>
                        <input type="number" id="com_c12" class="input-field" placeholder="0.00" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="com_c13">Insulation Cost:</label>
                        <input type="number" id="com_c13" class="input-field" placeholder="0.00" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="com_c14">Perimeter Seal / Jamb Seal Cost:</label>
                        <input type="number" id="com_c14" class="input-field" placeholder="0.00" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="com_c15">Inside Lock Cost:</label>
                        <input type="number" id="com_c15" class="input-field" placeholder="0.00" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="com_c16">Struts Cost:</label>
                        <input type="number" id="com_c16" class="input-field" placeholder="0.00" step="0.01">
                    </div>
                    <div class="form-group">
                        <label>Subtotal Door Parts (C11:C16):</label>
                        <div id="com_calc_sum_c11_c16" class="output-field output-value">0.00</div>
                    </div>
                </div>

                <!-- Track, Spring, Misc Options -->
                <div class="p-4 bg-green-50 rounded-lg shadow">
                    <h3 class="text-lg font-semibold mb-3 text-green-700">Track, Spring & Options</h3>
                    <div class="form-group">
                        <label for="com_c17_price">Track Price (C17):</label>
                        <input type="number" id="com_c17_price" class="input-field" placeholder="0.00" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="com_a19_qty">Track Quantity (A19):</label>
                        <input type="number" id="com_a19_qty" class="input-field" placeholder="1" step="1">
                    </div>
                    <div class="form-group">
                        <label>Total Track Assembly (C17*A19):</label>
                        <div id="com_calc_c17_times_a19" class="output-field output-value">0.00</div>
                    </div>

                    <div class="form-group mt-4">
                        <label for="com_b21_price">Spring Price (B21):</label>
                        <input type="number" id="com_b21_price" class="input-field" placeholder="0.00" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="com_a21_qty">Spring Quantity (A21):</label>
                        <input type="number" id="com_a21_qty" class="input-field" placeholder="1" step="1">
                    </div>
                    <div class="form-group">
                        <label>Total Spring Assembly (B21*A21):</label>
                        <div id="com_calc_b21_times_a21" class="output-field output-value">0.00</div>
                    </div>
                    
                    <div class="form-group mt-4">
                        <label for="com_a23_multiplier">Misc Options Multiplier (A23, applies to Track Total):</label>
                        <input type="number" id="com_a23_multiplier" class="input-field" placeholder="0.00" step="0.01">
                    </div>
                    <div class="form-group">
                        <label>Total Misc Options (Track Total * A23):</label>
                        <div id="com_calc_c19val_times_a23" class="output-field output-value">0.00</div>
                    </div>
                    <div class="form-group mt-2">
                        <label>Subtotal (Track + Spring + Misc Options):</label>
                        <div id="com_calc_sum_c19_c21_c23_results" class="output-field output-value">0.00</div>
                    </div>
                </div>

                <!-- Labor -->
                <div class="p-4 bg-yellow-50 rounded-lg shadow">
                    <h3 class="text-lg font-semibold mb-3 text-yellow-700">Labor Costs</h3>
                    <div class="form-group"><label for="com_c25">Basic Install (C25):</label><input type="number" id="com_c25" class="input-field" placeholder="0.00" step="0.01"></div>
                    <div class="form-group"><label for="com_c26">High Lift/Vertical Lift (C26):</label><input type="number" id="com_c26" class="input-field" placeholder="0.00" step="0.01"></div>
                    <div class="form-group"><label for="com_c27">Opener Install (C27):</label><input type="number" id="com_c27" class="input-field" placeholder="0.00" step="0.01"></div>
                    <div class="form-group"><label for="com_c28">Removal/Disposal (C28):</label><input type="number" id="com_c28" class="input-field" placeholder="0.00" step="0.01"></div>
                    <div class="form-group"><label for="com_c29">Travel/Service Fee (C29):</label><input type="number" id="com_c29" class="input-field" placeholder="0.00" step="0.01"></div>
                    <div class="form-group"><label for="com_c30">Other Labor (C30):</label><input type="number" id="com_c30" class="input-field" placeholder="0.00" step="0.01"></div>
                    <div class="form-group">
                        <label>Subtotal Labor (C25:C30):</label>
                        <div id="com_calc_sum_c25_c30" class="output-field output-value">0.00</div>
                    </div>
                </div>
                
                <!-- Operator -->
                <div class="p-4 bg-indigo-50 rounded-lg shadow">
                    <h3 class="text-lg font-semibold mb-3 text-indigo-700">Operator Costs</h3>
                    <div class="form-group">
                        <label for="com_c31_price_operator">Operator Price (C31):</label>
                        <input type="number" id="com_c31_price_operator" class="input-field" placeholder="0.00" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="com_a33_qty_operator">Operator Quantity (A33):</label>
                        <input type="number" id="com_a33_qty_operator" class="input-field" placeholder="1" step="1">
                    </div>
                    <div class="form-group">
                        <label>Total Operator Cost (C31*A33):</label>
                        <div id="com_calc_c31val_times_a33" class="output-field output-value">0.00</div>
                    </div>
                     <div class="form-group mt-2">
                        <label>Total Labor + Operator (Formula C31+C33):</label>
                        <div id="com_calc_sum_c31_plus_c33_results" class="output-field output-value">0.00</div>
                    </div>
                </div>
            </div>

            <!-- Commercial Summary & Totals -->
            <div class="summary-section mt-6">
                <h3 class="text-xl font-semibold mb-4 text-gray-700">Commercial Quote Summary</h3>
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="form-group"><label>Total Door Components Cost:</label><div id="com_total_door_components_cost" class="output-field output-value">0.00</div></div>
                    <div class="form-group"><label>Total Track, Spring, Options (Formula Subtotal):</label><div id="com_total_track_spring_options_cost" class="output-field output-value">0.00</div></div>
                    <div class="form-group"><label>Total Labor Cost:</label><div id="com_total_labor_cost_summary" class="output-field output-value">0.00</div></div>
                    <div class="form-group"><label>Total Operator Cost:</label><div id="com_total_operator_cost_summary" class="output-field output-value">0.00</div></div>
                    <div class="form-group col-span-full md:col-span-1"><label>Total Direct Job Costs:</label><div id="com_total_direct_job_costs" class="output-field output-value text-lg">0.00</div></div>
                    
                    <div class="form-group">
                        <label for="com_markup_percentage">Markup Percentage (%):</label>
                        <input type="number" id="com_markup_percentage" class="input-field" placeholder="0" step="0.01">
                    </div>
                    <div class="form-group"><label>Markup Amount:</label><div id="com_markup_amount" class="output-field output-value">0.00</div></div>
                    <div class="form-group"><label>Subtotal Before Tax (C35 - Selling Price):</label><div id="com_subtotal_before_tax" class="output-field output-value text-lg">0.00</div></div>
                    
                    <div class="form-group">
                        <label for="com_tax_rate">Tax Rate (%):</label>
                        <input type="number" id="com_tax_rate" class="input-field" placeholder="0" step="0.01">
                    </div>
                    <div class="form-group"><label>Tax Amount:</label><div id="com_tax_amount" class="output-field output-value">0.00</div></div>
                    <div class="form-group col-span-full md:col-span-1"><label>Grand Total:</label><div id="com_grand_total" class="output-field output-value grand-total text-xl">0.00</div></div>
                </div>
            </div>
            
            <!-- Specific Profit Calculation (Commercial) -->
            <div class="summary-section mt-6 bg-purple-50">
                 <h3 class="text-xl font-semibold mb-4 text-purple-700">Specific Profit Calculation (Formulas C35-C40)</h3>
                 <p class="text-sm text-purple-600 mb-2">This section uses specific formulas: C37 = Track Total + Spring Total. C39 = C35 (Subtotal Before Tax) - C37. C40 = (C39/C35)*100.</p>
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="form-group"><label>Cost for Profit Calc (C37 = Track + Spring):</label><div id="com_cost_for_profit_calc_c37" class="output-field output-value">0.00</div></div>
                    <div class="form-group"><label>Profit (C39 = C35 - C37):</label><div id="com_profit_c39" class="output-field output-value">0.00</div></div>
                    <div class="form-group col-span-full md:col-span-1"><label>Profit Margin (C40 = (C39/C35)*100%):</label><div id="com_profit_margin_c40" class="output-field output-value">0.00%</div></div>
                </div>
            </div>
        </div>

        <div id="content-residential" class="tab-content hidden">
            <h2 class="section-title">Residential Door Calculator</h2>
            <p class="text-gray-600">Residential calculator fields will be similar to commercial. This section is a placeholder and will use the same logic structure. You can duplicate and adjust commercial fields and IDs (e.g., `res_c11` instead of `com_c11`).</p>
            <!-- Residential Fields will go here, mirroring commercial structure with 'res_' prefix -->
            <!-- For brevity, I'm not duplicating all fields here, but they would follow the commercial pattern -->
            <div class="p-4 bg-blue-50 rounded-lg shadow mb-4">
                <h3 class="text-lg font-semibold mb-3 text-blue-700">Door Components Costs</h3>
                <div class="form-group">
                    <label for="res_c11">Sections Cost:</label>
                    <input type="number" id="res_c11" class="input-field" placeholder="0.00" step="0.01">
                </div>
                <!-- Add other residential door component fields here, similar to commercial -->
                <!-- e.g., res_c12 for windows, res_c13 for insulation, etc. -->
            </div>
            <!-- Add other sections for Residential (Track/Spring, Labor, Operator) similar to Commercial -->
            <!-- Remember to use 'res_' prefix for all IDs -->

             <div class="summary-section mt-6">
                <h3 class="text-xl font-semibold mb-4 text-gray-700">Residential Quote Summary</h3>
                 <!-- Add all relevant summary fields for residential, similar to commercial -->
                 <!-- e.g., res_total_door_components_cost, res_total_labor_cost_summary etc. -->
                 <div class="form-group"><label>Grand Total:</label><div id="res_grand_total" class="output-field output-value grand-total text-xl">0.00</div></div>
            </div>
        </div>

        <div id="content-service" class="tab-content hidden">
            <h2 class="section-title">Service Call Calculator</h2>
            <div class="grid-container">
                <div class="p-4 bg-teal-50 rounded-lg shadow">
                    <h3 class="text-lg font-semibold mb-3 text-teal-700">Service Call Details</h3>
                    <div class="form-group">
                        <label for="sc_service_call_fee">Base Service Call Fee:</label>
                        <input type="number" id="sc_service_call_fee" class="input-field" placeholder="0.00" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="sc_labor_hours">Labor Hours:</label>
                        <input type="number" id="sc_labor_hours" class="input-field" placeholder="0" step="0.1">
                    </div>
                    <div class="form-group">
                        <label for="sc_labor_rate_per_hour">Labor Rate per Hour:</label>
                        <input type="number" id="sc_labor_rate_per_hour" class="input-field" placeholder="0.00" step="0.01">
                    </div>
                    <div class="form-group">
                        <label>Total Labor Cost:</label>
                        <div id="sc_total_labor_cost" class="output-field output-value">0.00</div>
                    </div>
                    <div class="form-group">
                        <label for="sc_total_parts_cost">Total Cost of Parts Used:</label>
                        <input type="number" id="sc_total_parts_cost" class="input-field" placeholder="0.00" step="0.01">
                    </div>
                </div>
            </div>
            <div class="summary-section mt-6">
                <h3 class="text-xl font-semibold mb-4 text-gray-700">Service Call Summary</h3>
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="form-group"><label>Subtotal Before Tax:</label><div id="sc_subtotal_before_tax" class="output-field output-value">0.00</div></div>
                    <div class="form-group">
                        <label for="sc_tax_rate">Tax Rate (%):</label>
                        <input type="number" id="sc_tax_rate" class="input-field" placeholder="0" step="0.01">
                    </div>
                    <div class="form-group"><label>Tax Amount:</label><div id="sc_tax_amount" class="output-field output-value">0.00</div></div>
                    <div class="form-group col-span-full md:col-span-1"><label>Grand Total:</label><div id="sc_grand_total" class="output-field output-value grand-total text-xl">0.00</div></div>
                </div>
            </div>
        </div>
    </div>

    <!-- This line links to your JavaScript file -->
    <script src="script.js"></script>
</body>
</html>
